<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CryptoMine Cloud - BTC Miner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4240731940121790"
     crossorigin="anonymous"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
}
.app {
  max-width: 420px;
  margin: auto;
  padding: 15px;
}
.header {
  text-align: center;
  margin-bottom: 20px;
}
.header h1 {
  color: #ff9900;
}
.card {
  background: #1c1c1c;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 15px;
}
.balance {
  font-size: 26px;
  text-align: center;
  color: #ff9900;
}
.euro {
  text-align: center;
  color: #aaa;
  margin-top: 4px;
}
.rate {
  text-align: center;
  color: #aaa;
}
button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border: none;
  border-radius: 8px;
  background: #ff9900;
  color: #000;
  font-size: 16px;
  cursor: pointer;
}
button.secondary {
  background: #333;
  color: #fff;
}
.footer {
  text-align: center;
  font-size: 12px;
  color: #aaa;
  margin-top: 20px;
}
.footer a {
  color: #ff9900;
  text-decoration: none;
  margin: 0 5px;
}
.section-content {
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="app">

  <div class="header">
    <h1>CryptoMine Cloud</h1>
    <p>BTC Miner</p>
  </div>

  <div class="card">
    <div class="balance" id="balance">0.00000000 BTC</div>
    <div class="euro" id="euro">‚âà 0.00 ‚Ç¨</div>
    <div class="rate">Mining speed: Fixed</div>

    <!-- Emplacement AdSense -->
    <ins class="adsbygoogle"
         style="display:block; margin:10px 0;"
         data-ad-client="ca-pub-4240731940121790"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <button id="mineBtn">‚ñ∂ Start Mining</button>
    <button class="secondary" onclick="withdrawAll()">üí∏ Withdraw All</button>
  </div>

  <div class="footer">
    <a href="#privacy">Politique de confidentialit√©</a> | 
    <a href="#legal">Mentions l√©gales</a>
  </div>

  <!-- Conteneurs pour charger les fichiers externes -->
  <div id="privacy" class="card section-content">
    <h2>Politique de confidentialit√©</h2>
    <div id="privacyContent">Chargement...</div>
  </div>

  <div id="legal" class="card section-content">
    <h2>Mentions l√©gales</h2>
    <div id="legalContent">Chargement...</div>
  </div>

</div>

<script>
// ===== DATA =====
let balance = parseFloat(localStorage.getItem("btc")) || 0;
let mining = false;
let interval;
let btcPrice = 0;
const MINING_SPEED = 0.0000001;

// ===== BTC PRICE =====
async function getBTCPrice() {
  const r = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=eur");
  const d = await r.json();
  btcPrice = d.bitcoin.eur;
  updateUI();
}
getBTCPrice();
setInterval(getBTCPrice, 60000);

// ===== UI =====
function updateUI() {
  balance = Math.max(balance, 0);
  document.getElementById("balance").innerText = balance.toFixed(8) + " BTC";
  document.getElementById("euro").innerText =
    "‚âà " + (balance * btcPrice).toFixed(2) + " ‚Ç¨";
}

// ===== MINING =====
mineBtn.onclick = () => {
  mining = !mining;
  if (mining) {
    mineBtn.innerText = "‚èπ Stop Mining";
    interval = setInterval(() => {
      balance += MINING_SPEED;
      localStorage.setItem("btc", balance);
      updateUI();
    }, 1000);
  } else {
    mineBtn.innerText = "‚ñ∂ Start Mining";
    clearInterval(interval);
  }
};

// ===== WITHDRAW ALL =====
function withdrawAll() {
  if (balance <= 0) {
    alert("No balance to withdraw");
    return;
  }

  const amount = balance;
  balance = 0;
  localStorage.setItem("btc", balance);
  updateUI();

  const msg =
`üí∏ WITHDRAW ALL REQUEST
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚Çø Amount: ${amount.toFixed(8)} BTC
üí∂ Value: ${(amount * btcPrice).toFixed(2)} ‚Ç¨
‚è∞ ${new Date().toLocaleString()}`;

  const BOT_TOKEN = "";
  const CHAT_ID = "";

  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ chat_id: CHAT_ID, text: msg })
  });

  alert("Withdraw sent");
}

updateUI();

// ===== CHARGER FICHIERS EXTERNES =====
async function loadFile(file, containerId) {
  try {
    const response = await fetch(file);
    if (!response.ok) throw new Error("Fichier introuvable");
    const text = await response.text();
    document.getElementById(containerId).innerHTML = text;
  } catch (err) {
    document.getElementById(containerId).innerHTML = "Impossible de charger le contenu.";
    console.error(err);
  }
}

// Charger privacy.html et legal.html
loadFile("privacy.html", "privacyContent");
loadFile("legal.html", "legalContent");
</script>

</body>
</html>
